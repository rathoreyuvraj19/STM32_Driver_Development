\doxysection{stm32f407xx\+\_\+gpio.\+c}
\hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source}{}\label{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source}\index{STM32F4xx\_DRIVERS/Src/stm32f407xx\_gpio.c@{STM32F4xx\_DRIVERS/Src/stm32f407xx\_gpio.c}}
\mbox{\hyperlink{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00038}00038\ \textcolor{preprocessor}{\#include\ "{}stm32f407xx\_gpio.h"{}}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00040}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga59f07285d055589998e910abf10c9ab1}{00040}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga59f07285d055589998e910abf10c9ab1}{gpio\_pin\_init}}(\mbox{\hyperlink{struct_g_p_i_ox___handle__t}{GPIOx\_Handle\_t}}\ *GPIOx\_Handle)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00041}00041\ \ \ \ \ uint8\_t\ gpio\_pin\_number\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_abec5d159383522318eeaf3483fe0d59f}{GPIO\_PIN\_NUMBER}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00042}00042\ \ \ \ \ uint8\_t\ gpio\_mode\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_a2d2975ab95a428fccf3285a24c4fd8e2}{GPIO\_MODE}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00043}00043\ \ \ \ \ uint8\_t\ gpio\_speed\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_a1c233fdedf6811ed531077825b58f35d}{GPIO\_SPEED}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00044}00044\ \ \ \ \ uint8\_t\ gpio\_output\_type\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_ab2e10b90fc7e80cc4a14c6cb80e08ee0}{GPIO\_OP\_TYPE}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00045}00045\ \ \ \ \ uint8\_t\ gpio\_pu\_pd\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_addfcf63ac9c75696ad9ff04afe7c45ba}{GPIO\_PU\_PD}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00046}00046\ \ \ \ \ uint8\_t\ gpio\_alt\_func\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_a3526e2226cbdccf1493e2ab80ae140b3}{GPIO\_ALT\_FUNC}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00047}00047\ \ \ \ \ \textcolor{comment}{/*1.\ Enable\ the\ respective\ GPIO\ peripheral\ through\ RCC\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00048}00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gac485358099728ddae050db37924dd6b7}{GPIOA}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00049}00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_ga17c0eb1a7e7645a5d63d8b7a41fbb19c}{GPIOA\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00050}00050\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga68b66ac73be4c836db878a42e1fea3cd}{GPIOB}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00051}00051\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_ga1bc2b8b73bb42c4d2cd758a732fbe871}{GPIOB\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00052}00052\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga2dca03332d620196ba943bc2346eaa08}{GPIOC}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00053}00053\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_gab9e994b2e5e4ada47764117634c64728}{GPIOC\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00054}00054\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga7580b1a929ea9df59725ba9c18eba6ac}{GPIOD}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00055}00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_gac08ecd1bbe57ab59746d6da5b972f493}{GPIOD\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00056}00056\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gae04bdb5e8acc47cab1d0532e6b0d0763}{GPIOE}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00057}00057\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_gaa93bc85ce9310ae89c709ad615d9bb18}{GPIOE\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00058}00058\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga43c3022dede7c9db7a58d3c3409dbc8d}{GPIOF}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00059}00059\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_ga1a46c65e3a2959ce65c503bc735d45ea}{GPIOF\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00060}00060\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga02a2a23a32f9b02166a8c64012842414}{GPIOG}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00061}00061\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_ga84b14038fe3d35ca857056c98f796c64}{GPIOG\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00062}00062\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gadeacbb43ae86c879945afe98c679b285}{GPIOH}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00063}00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_ga2be7b357e112e2036141678aa6bc3506}{GPIOH\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00064}00064\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gad15f13545ecdbbabfccf43d5997e5ade}{GPIOI}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00065}00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_gae7a11cdb49af5cb6c9fa08a57d474eba}{GPIOI\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00066}00066\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00067}00067\ \ \ \ \ \textcolor{comment}{/*2.Set\ the\ pin\ mode\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00068}00068\ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a7131c3ab513a84fc69270888ddbe561d}{MODER}}\ \&=\ \string~(0x03\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Clear\ the\ bits\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00069}00069\ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a7131c3ab513a84fc69270888ddbe561d}{MODER}}\ |=\ (gpio\_mode\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Set\ the\ desire\ bits\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00071}00071\ \ \ \ \ \textcolor{comment}{/*\ 3.\ Set\ the\ GPIO\ Speed.\ @note:\ speed\ is\ applicable\ only\ for\ output\ and\ alt-\/function\ mode\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00072}00072\ \ \ \ \ \textcolor{keywordflow}{if}\ (gpio\_mode\ ==\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_gaca6eb0cd4dbe7402497829badacfa6df}{GPIO\_MODE\_OUTPUT}}\ ||\ gpio\_mode\ ==\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_gaf97227968696e5e26432760060e61e48}{GPIO\_MODE\_ALT\_FUNC}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00073}00073\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a3b356447d7a412130d1bc5b33cb4b7a0}{OSPEEDR}}\ \&=\ \string~(0x03\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Clear\ the\ bits\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00074}00074\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a3b356447d7a412130d1bc5b33cb4b7a0}{OSPEEDR}}\ |=\ (gpio\_speed\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Set\ the\ desire\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00075}00075\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00076}00076\ \ \ \ \ \textcolor{comment}{/*\ 4.\ Set\ the\ output\ type\ (Push\_pull/Open\_Drain).\ @note\ This\ part\ is\ only\ applicable\ when\ mode\ is\ output\ or\ alternate\ Function\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00077}00077\ \ \ \ \ \textcolor{keywordflow}{if}\ (gpio\_mode\ ==\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_gaca6eb0cd4dbe7402497829badacfa6df}{GPIO\_MODE\_OUTPUT}}\ ||\ gpio\_mode\ ==\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_gaf97227968696e5e26432760060e61e48}{GPIO\_MODE\_ALT\_FUNC}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00078}00078\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a487e307dd27a1a694f8a52f1a2df6ce6}{OTYPER}}\ \&=\ \string~(0x1\ <<\ gpio\_pin\_number);\ \textcolor{comment}{/*\ Clear\ the\ bits\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00079}00079\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a487e307dd27a1a694f8a52f1a2df6ce6}{OTYPER}}\ |=\ (gpio\_output\_type\ <<\ gpio\_pin\_number);\ \textcolor{comment}{/*\ Set\ the\ desire\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00080}00080\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00082}00082\ \ \ \ \ \textcolor{comment}{/*\ 5.\ Set\ the\ pullup\ or\ pulldown\ config.\ @note\ this\ config\ is\ only\ applicable\ when\ mode\ is\ output\ or\ alternate\ function\ or\ input\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00083}00083\ \ \ \ \ \textcolor{keywordflow}{if}\ (gpio\_mode\ !=\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_ga7a04f9ab65ad572ad20791a35009220c}{GPIO\_MODE\_ANALOG}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00084}00084\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a9e83c5fefbd8c0caff3dc3dccd4cfa6f}{PUPDR}}\ \&=\ \string~(0x03\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Clear\ the\ bits\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00085}00085\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a9e83c5fefbd8c0caff3dc3dccd4cfa6f}{PUPDR}}\ |=\ (gpio\_pu\_pd\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Set\ the\ desire\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00086}00086\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00088}00088\ \ \ \ \ \textcolor{comment}{/*\ \ 6.\ Setting\ ALT\ FUNCTION\ config.\ @note\ this\ config\ is\ only\ applicable\ when\ mode\ is\ ALT\ FUNC\ MODE\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00089}00089\ \ \ \ \ \textcolor{keywordflow}{if}\ (gpio\_mode\ ==\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_gaf97227968696e5e26432760060e61e48}{GPIO\_MODE\_ALT\_FUNC}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00090}00090\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (gpio\_pin\_number\ <=\ 7)\ \{\ \textcolor{comment}{/*We\ have\ to\ configure\ AFRL\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a126fbbca62fb9da89d8784bbdca0d6d1}{AFRL}}\ \&=\ \string~(0xF\ <<\ (4\ *\ (gpio\_pin\_number\ \%\ 8)));}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a126fbbca62fb9da89d8784bbdca0d6d1}{AFRL}}\ |=\ (gpio\_alt\_func}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00093}00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ (4\ *\ (gpio\_pin\_number\ \%\ 8)));}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00094}00094\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{/*We\ have\ to\ configure\ AFRH\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a7bb86e1aa7bfba5dea71646b1c2fd754}{AFRH}}\ \&=\ \string~(0xF\ <<\ (4\ *\ (gpio\_pin\_number\ \%\ 8)));}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_a08f8fb9a9b2c746b063a4c0fdad89aee}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a7bb86e1aa7bfba5dea71646b1c2fd754}{AFRH}}\ |=\ (gpio\_alt\_func}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00097}00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ (4\ *\ (gpio\_pin\_number\ \%\ 8)));}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00098}00098\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00099}00099\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00101}00101\ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00103}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga347db04adc58e4104a1b0600a2238395}{00103}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga347db04adc58e4104a1b0600a2238395}{gpio\_port\_deinit}}(\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t}{GPIOx\_RegDef\_t}}\ *pGPIOx)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00104}00104\ \ \ \ \ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gac485358099728ddae050db37924dd6b7}{GPIOA}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00105}00105\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 0);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00106}00106\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 0);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00107}00107\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00108}00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_ga8bc666ed7242f6faa9bffc65a062fe55}{GPIOA\_RESET}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00109}00109\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga68b66ac73be4c836db878a42e1fea3cd}{GPIOB}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00110}00110\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 1);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00111}00111\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 1);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00112}00112\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00113}00113\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_gaf0048d94161bb7fe5d170c2406bc0fd7}{GPIOB\_RESET}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00114}00114\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga2dca03332d620196ba943bc2346eaa08}{GPIOC}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00115}00115\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 2);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00116}00116\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 2);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00117}00117\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00118}00118\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_gaa4542df78f0d1560397d909f611c6ce7}{GPIOC\_RESET}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00119}00119\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga7580b1a929ea9df59725ba9c18eba6ac}{GPIOD}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00120}00120\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 3);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00121}00121\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 3);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00122}00122\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00123}00123\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_ga92694d8c9d9c00155654721623708f35}{GPIOD\_RESET}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00124}00124\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gae04bdb5e8acc47cab1d0532e6b0d0763}{GPIOE}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00125}00125\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 4);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00126}00126\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 4);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00127}00127\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00128}00128\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_ga497349d3ec829b56e5a26953e61c1e8a}{GPIOE\_RESET}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00129}00129\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga43c3022dede7c9db7a58d3c3409dbc8d}{GPIOF}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00130}00130\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 5);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00131}00131\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 5);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00132}00132\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00133}00133\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_gafe0496ab47e7164336adefca4797ac3e}{GPIOF\_RESET}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00134}00134\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga02a2a23a32f9b02166a8c64012842414}{GPIOG}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00135}00135\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 6);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00136}00136\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 6);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00137}00137\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00138}00138\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_gad69709b4469070fa4be32b4b137c4373}{GPIOG\_RESET}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00139}00139\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gadeacbb43ae86c879945afe98c679b285}{GPIOH}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00140}00140\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 7);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00141}00141\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 7);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00142}00142\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00143}00143\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_ga30f67db20df721ed84d527133fe1de4f}{GPIOH\_RESET}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00144}00144\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gad15f13545ecdbbabfccf43d5997e5ade}{GPIOI}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00145}00145\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 8);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00146}00146\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 8);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00147}00147\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00148}00148\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_ga044a47439c7e8f852439c76250a57901}{GPIOI\_RESET}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00149}00149\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00150}00150\ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00151}00151\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00152}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga7a2f606b1dfb968762d2ee9dcf59fc5f}{00152}}\ uint8\_t\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga7a2f606b1dfb968762d2ee9dcf59fc5f}{gpio\_read\_pin}}(\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t}{GPIOx\_RegDef\_t}}\ *pGPIOx,\ uint8\_t\ pin)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00153}00153\ \ \ \ \ \textcolor{keywordflow}{if}\ (pin\ >\ 15)}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00154}00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00155}00155\ \ \ \ \ uint8\_t\ temp\ =\ (uint8\_t)\ ((pGPIOx-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a6e89a0ca7efb4878fed5adafca726873}{IDR}}\ >>\ pin)\ \&\ 0x1);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00156}00156\ \ \ \ \ \textcolor{keywordflow}{return}\ temp;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00157}00157\ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00158}00158\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00159}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga893c5d7e52c33fea09df85b817801855}{00159}}\ uint16\_t\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga893c5d7e52c33fea09df85b817801855}{gpio\_read\_port}}(\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t}{GPIOx\_RegDef\_t}}\ *pGPIOx)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00160}00160\ \ \ \ \ \textcolor{keywordflow}{return}\ (uint16\_t)\ (pGPIOx-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a6e89a0ca7efb4878fed5adafca726873}{IDR}});}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00161}00161\ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00162}00162\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00163}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga3a438f76ce1b8d514645f41c5e13bc19}{00163}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga3a438f76ce1b8d514645f41c5e13bc19}{gpio\_write\_pin}}(\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t}{GPIOx\_RegDef\_t}}\ *pGPIOx,\ uint8\_t\ pin,\ uint8\_t\ state)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00164}00164\ \ \ \ \ \textcolor{keywordflow}{if}\ (state)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00165}00165\ \ \ \ \ \ \ \ \ pGPIOx-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_acf54c3304e180a735525c8a2e7e29f40}{ODR}}\ |=\ ((1\ <<\ pin));}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00166}00166\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00167}00167\ \ \ \ \ \ \ \ \ pGPIOx-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_acf54c3304e180a735525c8a2e7e29f40}{ODR}}\ \&=\ \string~((1\ <<\ pin));}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00168}00168\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00169}00169\ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00170}00170\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00171}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga58fd0d0b3c266d7a1e9777cef52e8207}{00171}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga58fd0d0b3c266d7a1e9777cef52e8207}{gpio\_write\_port}}(\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t}{GPIOx\_RegDef\_t}}\ *pGPIOx,\ uint16\_t\ write\_data)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00172}00172\ \ \ \ \ pGPIOx-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_acf54c3304e180a735525c8a2e7e29f40}{ODR}}\ =\ write\_data;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00173}00173\ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00174}00174\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00175}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_gaf33fe651c0911b5bfccfe253b8c44286}{00175}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_gaf33fe651c0911b5bfccfe253b8c44286}{gpio\_toggle\_pin}}(\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t}{GPIOx\_RegDef\_t}}\ *pGPIOx,\ uint8\_t\ pin)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00176}00176\ \ \ \ \ \textcolor{keywordflow}{if}\ (pin\ >\ 15)}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00177}00177\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00178}00178\ \ \ \ \ pGPIOx-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_acf54c3304e180a735525c8a2e7e29f40}{ODR}}\ \string^=\ (0x01\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00179}00179\ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00180}00180\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00181}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga314747314a10eafbe93c75f2d3d43b28}{00181}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga314747314a10eafbe93c75f2d3d43b28}{gpio\_irq\_config}}(\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t}{GPIOx\_RegDef\_t}}\ *pGPIOx,\ uint8\_t\ pin,\ uint8\_t\ trigger,}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00182}00182\ \ \ \ \ \ \ \ \ uint8\_t\ irq\_priority)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00198}00198\ \ \ \ \ \mbox{\hyperlink{group___a_p_b2___p_c_l_k___e_n___d_i___m_a_c_r_o_s_gaf4132dd5c45ad1cbdb0226b3f0108cf6}{SYSCFG\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00199}00199\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00201}00201\ \ \ \ \ \mbox{\hyperlink{struct_s_y_s_c_f_g___reg_def__t}{SYSCFG\_RegDef\_t}}\ *pSYSCFG\ =\ \mbox{\hyperlink{group___s_y_s_c_f_g___r_e_g_ga3c833fe1c486cb62250ccbca32899cb8}{SYSCFG}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00202}00202\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00218}00218\ \ \ \ \ uint8\_t\ sys\_cfg\_reg\_number\ =\ pin\ /\ 4;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00219}00219\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00230}00230\ \ \ \ \ uint8\_t\ gpio\_port\_map;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00231}00231\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00232}00232\ \ \ \ \ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gac485358099728ddae050db37924dd6b7}{GPIOA}})}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00233}00233\ \ \ \ \ \ \ \ \ gpio\_port\_map\ =\ 0x00;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00234}00234\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga68b66ac73be4c836db878a42e1fea3cd}{GPIOB}})}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00235}00235\ \ \ \ \ \ \ \ \ gpio\_port\_map\ =\ 0x01;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00236}00236\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga2dca03332d620196ba943bc2346eaa08}{GPIOC}})}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00237}00237\ \ \ \ \ \ \ \ \ gpio\_port\_map\ =\ 0x02;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00238}00238\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga7580b1a929ea9df59725ba9c18eba6ac}{GPIOD}})}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00239}00239\ \ \ \ \ \ \ \ \ gpio\_port\_map\ =\ 0x03;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00240}00240\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gae04bdb5e8acc47cab1d0532e6b0d0763}{GPIOE}})}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00241}00241\ \ \ \ \ \ \ \ \ gpio\_port\_map\ =\ 0x04;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00242}00242\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga43c3022dede7c9db7a58d3c3409dbc8d}{GPIOF}})}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00243}00243\ \ \ \ \ \ \ \ \ gpio\_port\_map\ =\ 0x05;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00244}00244\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_ga02a2a23a32f9b02166a8c64012842414}{GPIOG}})}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00245}00245\ \ \ \ \ \ \ \ \ gpio\_port\_map\ =\ 0x06;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00246}00246\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gadeacbb43ae86c879945afe98c679b285}{GPIOH}})}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00247}00247\ \ \ \ \ \ \ \ \ gpio\_port\_map\ =\ 0x07;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00248}00248\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_o___b_a_s_e___a_d_d_r_e_s_s_e_s_gad15f13545ecdbbabfccf43d5997e5ade}{GPIOI}})}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00249}00249\ \ \ \ \ \ \ \ \ gpio\_port\_map\ =\ 0x08;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00250}00250\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00251}00251\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00252}00252\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00263}00263\ \ \ \ \ uint8\_t\ shift\_amount\ =\ 4\ *\ (pin\ \%\ 4);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00264}00264\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00265}00265\ \ \ \ \ \textcolor{keywordflow}{if}\ (sys\_cfg\_reg\_number\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00267}00267\ \ \ \ \ \ \ \ \ pSYSCFG-\/>\mbox{\hyperlink{struct_s_y_s_c_f_g___reg_def__t_abb0ba14ceed44971a21712a9ddbe205c}{EXTICR1}}\ \&=\ \string~(0xF\ <<\ shift\_amount);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00268}00268\ \ \ \ \ \ \ \ \ pSYSCFG-\/>\mbox{\hyperlink{struct_s_y_s_c_f_g___reg_def__t_abb0ba14ceed44971a21712a9ddbe205c}{EXTICR1}}\ |=\ (gpio\_port\_map\ <<\ shift\_amount);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00269}00269\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (sys\_cfg\_reg\_number\ ==\ 1)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00271}00271\ \ \ \ \ \ \ \ \ pSYSCFG-\/>\mbox{\hyperlink{struct_s_y_s_c_f_g___reg_def__t_aa553af3d6e18b5b83b364f38a8a06854}{EXTICR2}}\ \&=\ \string~(0xF\ <<\ shift\_amount);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00272}00272\ \ \ \ \ \ \ \ \ pSYSCFG-\/>\mbox{\hyperlink{struct_s_y_s_c_f_g___reg_def__t_aa553af3d6e18b5b83b364f38a8a06854}{EXTICR2}}\ |=\ (gpio\_port\_map\ <<\ shift\_amount);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00273}00273\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (sys\_cfg\_reg\_number\ ==\ 2)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00275}00275\ \ \ \ \ \ \ \ \ pSYSCFG-\/>\mbox{\hyperlink{struct_s_y_s_c_f_g___reg_def__t_a32d87a6ff68cccfae52a00302c597fd4}{EXTICR3}}\ \&=\ \string~(0xF\ <<\ shift\_amount);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00276}00276\ \ \ \ \ \ \ \ \ pSYSCFG-\/>\mbox{\hyperlink{struct_s_y_s_c_f_g___reg_def__t_a32d87a6ff68cccfae52a00302c597fd4}{EXTICR3}}\ |=\ (gpio\_port\_map\ <<\ shift\_amount);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00277}00277\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (sys\_cfg\_reg\_number\ ==\ 3)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00279}00279\ \ \ \ \ \ \ \ \ pSYSCFG-\/>\mbox{\hyperlink{struct_s_y_s_c_f_g___reg_def__t_a953b3f9b9979f643d27c740c30cf1533}{EXTICR4}}\ \&=\ \string~(0xF\ <<\ shift\_amount);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00280}00280\ \ \ \ \ \ \ \ \ pSYSCFG-\/>\mbox{\hyperlink{struct_s_y_s_c_f_g___reg_def__t_a953b3f9b9979f643d27c740c30cf1533}{EXTICR4}}\ |=\ (gpio\_port\_map\ <<\ shift\_amount);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00281}00281\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00282}00282\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00284}00284\ \ \ \ \ \mbox{\hyperlink{struct_e_x_t_i___reg_def__t}{EXTI\_RegDef\_t}}\ *pEXTI\ =\ \mbox{\hyperlink{group___e_x_t_i___r_e_g_ga9189e770cd9b63dadd36683eb9843cac}{EXTI}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00285}00285\ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_a8750f176ecede5dfebf1f9ed67e2bec9}{RTSR}}\ \&=\ \string~(1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00286}00286\ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_ac9d02ca57991dcd0f5578bb8894e23a1}{FTSR}}\ \&=\ \string~(1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00287}00287\ \ \ \ \ \textcolor{keywordflow}{if}\ (trigger\ ==\ \mbox{\hyperlink{group___i_n_t_e_r_r_u_p_t___t_r_i_g_g_e_r___t_y_p_e___m_a_c_r_o_s_ga92e1d5ba4cf472003e787cc515a5460a}{INTERRUPT\_TRIGGER\_TYPE\_RISING}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00288}00288\ \ \ \ \ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_a8750f176ecede5dfebf1f9ed67e2bec9}{RTSR}}\ |=\ (1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00289}00289\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (trigger\ ==\ \mbox{\hyperlink{group___i_n_t_e_r_r_u_p_t___t_r_i_g_g_e_r___t_y_p_e___m_a_c_r_o_s_gae82959fb786b765dbc3b8ed6c4a205bb}{INTERRUPT\_TRIGGER\_TYPE\_FALLING}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00290}00290\ \ \ \ \ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_ac9d02ca57991dcd0f5578bb8894e23a1}{FTSR}}\ |=\ (1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00291}00291\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (trigger\ ==\ \mbox{\hyperlink{group___i_n_t_e_r_r_u_p_t___t_r_i_g_g_e_r___t_y_p_e___m_a_c_r_o_s_ga512fa3be3a911ca00866311731beb8e8}{INTERRUPT\_TRIGGER\_TYPE\_BOTH}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00292}00292\ \ \ \ \ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_a8750f176ecede5dfebf1f9ed67e2bec9}{RTSR}}\ |=\ (1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00293}00293\ \ \ \ \ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_ac9d02ca57991dcd0f5578bb8894e23a1}{FTSR}}\ |=\ (1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00294}00294\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00295}00295\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00297}00297\ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_a95f180dda1e0dab5d9ca9c1c96a80d42}{PR}}\ |=\ (1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00298}00298\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00300}00300\ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_adf667b91e34f6a9c58bd4f0f55f2bd03}{IMR}}\ |=\ (1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00301}00301\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00303}00303\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00304}00304\ \ \ \ \ uint8\_t\ irq;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00305}00305\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00306}00306\ \ \ \ \ \textcolor{comment}{/*\ Step\ 1:\ Identify\ which\ IRQ\ vector\ corresponds\ to\ the\ EXTI\ line\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00307}00307\ \ \ \ \ \textcolor{keywordflow}{if}\ (pin\ <=\ 4)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00308}00308\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ EXTI0\ \ IRQ6,\ EXTI1\ \ IRQ7,\ ...\ EXTI4\ \ IRQ10\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00309}00309\ \ \ \ \ \ \ \ \ irq\ =\ \mbox{\hyperlink{group___i_r_q___n_u_m_b_e_r___m_a_c_r_o_s_ga8dec3798afc9f6560d8c635812709703}{IRQ\_NUM\_EXTI0}}\ +\ pin;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00310}00310\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pin\ <=\ 9)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00311}00311\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ EXTI59\ all\ map\ to\ EXTI9\_5\ shared\ IRQ\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00312}00312\ \ \ \ \ \ \ \ \ irq\ =\ \mbox{\hyperlink{group___i_r_q___n_u_m_b_e_r___m_a_c_r_o_s_ga9143ab83f09040ca3fa93ef3daa607b1}{IRQ\_NUM\_EXTI9\_5}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00313}00313\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00314}00314\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ EXTI1015\ all\ map\ to\ EXTI15\_10\ shared\ IRQ\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00315}00315\ \ \ \ \ \ \ \ \ irq\ =\ \mbox{\hyperlink{group___i_r_q___n_u_m_b_e_r___m_a_c_r_o_s_gac04b7c8a56409ed47b7fcfee84cfd367}{IRQ\_NUM\_EXTI15\_10}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00316}00316\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00317}00317\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00318}00318\ \ \ \ \ \textcolor{comment}{/*\ Step\ 2:\ Compute\ the\ NVIC\ IPR\ register\ and\ byte\ offset\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00319}00319\ \ \ \ \ \mbox{\hyperlink{struct_n_v_i_c___reg_def__t}{NVIC\_RegDef\_t}}\ *pNVIC\ =\ \mbox{\hyperlink{group___n_v_i_c___r_e_g_gac8e97e8ce56ae9f57da1363a937f8a17}{NVIC}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00320}00320\ \ \ \ \ uint8\_t\ ipr\_index\ =\ irq\ /\ 4;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Each\ IPR\ holds\ 4\ priority\ fields}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00321}00321\ \ \ \ \ uint8\_t\ ipr\_offset\ =\ (irq\ \%\ 4)\ *\ 8;\ \ \ \textcolor{comment}{//\ Select\ correct\ byte}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00322}00322\ \ \ \ \ ipr\_offset\ +=\ 4;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Priority\ uses\ only\ upper\ 4\ bits\ [7:4]}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00323}00323\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00324}00324\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00325}00325\ \textcolor{comment}{\ \ \ \ \ *\ Step\ 3:\ Clear\ the\ old\ priority}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00326}00326\ \textcolor{comment}{\ \ \ \ \ *\ We\ clear\ a\ full\ byte\ (even\ though\ only\ 4\ bits\ are\ used),}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00327}00327\ \textcolor{comment}{\ \ \ \ \ *\ because\ NVIC\ ignores\ the\ lower\ 4\ bits\ anyway.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00328}00328\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00329}00329\ \ \ \ \ pNVIC-\/>\mbox{\hyperlink{struct_n_v_i_c___reg_def__t_a57ba3a0dfe22a59876fb6b15390a5b40}{IPR}}[ipr\_index]\ \&=\ \string~(0xFF\ <<\ ipr\_offset);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00330}00330\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00331}00331\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00332}00332\ \textcolor{comment}{\ \ \ \ \ *\ Step\ 4:\ Write\ new\ priority}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00333}00333\ \textcolor{comment}{\ \ \ \ \ *\ irq\_priority\ is\ masked\ to\ 4\ bits\ (015),}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00334}00334\ \textcolor{comment}{\ \ \ \ \ *\ then\ shifted\ into\ bits\ [7:4]\ of\ the\ correct\ byte.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00335}00335\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00336}00336\ \ \ \ \ pNVIC-\/>\mbox{\hyperlink{struct_n_v_i_c___reg_def__t_a57ba3a0dfe22a59876fb6b15390a5b40}{IPR}}[ipr\_index]\ |=\ ((irq\_priority\ \&\ 0x0F)\ <<\ ipr\_offset);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00337}00337\ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00338}00338\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00339}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga7029bc337ba529f1ed60ecec9003ae43}{00339}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga7029bc337ba529f1ed60ecec9003ae43}{gpio\_irq\_clear}}(uint8\_t\ pin)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00340}00340\ \ \ \ \ \mbox{\hyperlink{struct_e_x_t_i___reg_def__t}{EXTI\_RegDef\_t}}\ *pEXTI\ =\ \mbox{\hyperlink{group___e_x_t_i___r_e_g_ga9189e770cd9b63dadd36683eb9843cac}{EXTI}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00341}00341\ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_a95f180dda1e0dab5d9ca9c1c96a80d42}{PR}}\ |=\ (1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00342}00342\ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00343}00343\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00344}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga2095b94c246588474f2dfec5999d3efb}{00344}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga2095b94c246588474f2dfec5999d3efb}{gpio\_irq\_control}}(uint8\_t\ pin,\ uint8\_t\ en\_di)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00363}00363\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00364}00364\ \ \ \ \ \mbox{\hyperlink{struct_n_v_i_c___reg_def__t}{NVIC\_RegDef\_t}}\ *pNVIC\ =\ \mbox{\hyperlink{group___n_v_i_c___r_e_g_gac8e97e8ce56ae9f57da1363a937f8a17}{NVIC}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00365}00365\ \ \ \ \ \mbox{\hyperlink{struct_e_x_t_i___reg_def__t}{EXTI\_RegDef\_t}}\ *pEXTI\ =\ \mbox{\hyperlink{group___e_x_t_i___r_e_g_ga9189e770cd9b63dadd36683eb9843cac}{EXTI}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00366}00366\ }
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00367}00367\ \ \ \ \ \textcolor{keywordflow}{if}\ (en\_di\ ==\ \mbox{\hyperlink{group___m_i_s_c_e_l_l_a_n_e_o_u_s___m_a_c_r_o_s_ga514ad415fb6125ba296793df7d1a468a}{ENABLE}})\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00368}00368\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 1.\ Unmask\ the\ EXTI\ line\ in\ EXTI\_IMR}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00369}00369\ \ \ \ \ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_adf667b91e34f6a9c58bd4f0f55f2bd03}{IMR}}\ |=\ (1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00370}00370\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 2.\ Enable\ the\ corresponding\ NVIC\ interrupt\ via\ NVIC\_ISER}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00371}00371\ \ \ \ \ \ \ \ \ uint8\_t\ irq;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00372}00372\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pin\ <=\ 4)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00373}00373\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ EXTI0\ \ IRQ6,\ EXTI1\ \ IRQ7,\ ...\ EXTI4\ \ IRQ10\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00374}00374\ \ \ \ \ \ \ \ \ \ \ \ \ irq\ =\ \mbox{\hyperlink{group___i_r_q___n_u_m_b_e_r___m_a_c_r_o_s_ga8dec3798afc9f6560d8c635812709703}{IRQ\_NUM\_EXTI0}}\ +\ pin;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00375}00375\ \ \ \ \ \ \ \ \ \ \ \ \ pNVIC-\/>\mbox{\hyperlink{struct_n_v_i_c___reg_def__t_ac00a34631cedcc431ca68e634410bac3}{ISER}}[0]\ |=\ (1\ <<\ irq);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00376}00376\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pin\ <=\ 9)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00377}00377\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ EXTI59\ all\ map\ to\ EXTI9\_5\ shared\ IRQ\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ irq\ =\ \mbox{\hyperlink{group___i_r_q___n_u_m_b_e_r___m_a_c_r_o_s_ga9143ab83f09040ca3fa93ef3daa607b1}{IRQ\_NUM\_EXTI9\_5}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ pNVIC-\/>\mbox{\hyperlink{struct_n_v_i_c___reg_def__t_ac00a34631cedcc431ca68e634410bac3}{ISER}}[0]\ |=\ (1\ <<\ irq);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00380}00380\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ EXTI1015\ all\ map\ to\ EXTI15\_10\ shared\ IRQ\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00382}00382\ \ \ \ \ \ \ \ \ \ \ \ \ irq\ =\ \mbox{\hyperlink{group___i_r_q___n_u_m_b_e_r___m_a_c_r_o_s_gac04b7c8a56409ed47b7fcfee84cfd367}{IRQ\_NUM\_EXTI15\_10}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00383}00383\ \ \ \ \ \ \ \ \ \ \ \ \ pNVIC-\/>\mbox{\hyperlink{struct_n_v_i_c___reg_def__t_ac00a34631cedcc431ca68e634410bac3}{ISER}}[1]\ |=\ (1\ <<\ (irq\ \%\ 32));}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00384}00384\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00385}00385\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 3.\ Clear\ the\ Pending\ interrupt.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00386}00386\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga7029bc337ba529f1ed60ecec9003ae43}{gpio\_irq\_clear}}(pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00387}00387\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Disable\ interrupt}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00388}00388\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 1.\ Mask\ the\ EXTI\ line\ in\ EXTI\_IMR}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00389}00389\ \ \ \ \ \ \ \ \ pEXTI-\/>\mbox{\hyperlink{struct_e_x_t_i___reg_def__t_adf667b91e34f6a9c58bd4f0f55f2bd03}{IMR}}\ \&=\ \string~(1\ <<\ pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00390}00390\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 2.\ Disable\ the\ corresponding\ NVIC\ interrupt\ via\ NVIC\_ISER}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00391}00391\ \ \ \ \ \ \ \ \ uint8\_t\ irq;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00392}00392\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pin\ <=\ 4)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00393}00393\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ EXTI0\ \ IRQ6,\ EXTI1\ \ IRQ7,\ ...\ EXTI4\ \ IRQ10\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00394}00394\ \ \ \ \ \ \ \ \ \ \ \ \ irq\ =\ \mbox{\hyperlink{group___i_r_q___n_u_m_b_e_r___m_a_c_r_o_s_ga8dec3798afc9f6560d8c635812709703}{IRQ\_NUM\_EXTI0}}\ +\ pin;}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00395}00395\ \ \ \ \ \ \ \ \ \ \ \ \ pNVIC-\/>\mbox{\hyperlink{struct_n_v_i_c___reg_def__t_a9277c2bfdae8353c09f1f696e7f00462}{ICER}}[0]\ |=\ (1\ <<\ irq);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00396}00396\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pin\ <=\ 9)\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00397}00397\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ EXTI59\ all\ map\ to\ EXTI9\_5\ shared\ IRQ\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00398}00398\ \ \ \ \ \ \ \ \ \ \ \ \ irq\ =\ \mbox{\hyperlink{group___i_r_q___n_u_m_b_e_r___m_a_c_r_o_s_ga9143ab83f09040ca3fa93ef3daa607b1}{IRQ\_NUM\_EXTI9\_5}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00399}00399\ \ \ \ \ \ \ \ \ \ \ \ \ pNVIC-\/>\mbox{\hyperlink{struct_n_v_i_c___reg_def__t_a9277c2bfdae8353c09f1f696e7f00462}{ICER}}[0]\ |=\ (1\ <<\ irq);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00400}00400\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00401}00401\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ EXTI1015\ all\ map\ to\ EXTI15\_10\ shared\ IRQ\ */}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00402}00402\ \ \ \ \ \ \ \ \ \ \ \ \ irq\ =\ \mbox{\hyperlink{group___i_r_q___n_u_m_b_e_r___m_a_c_r_o_s_gac04b7c8a56409ed47b7fcfee84cfd367}{IRQ\_NUM\_EXTI15\_10}};}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00403}00403\ \ \ \ \ \ \ \ \ \ \ \ \ pNVIC-\/>\mbox{\hyperlink{struct_n_v_i_c___reg_def__t_a9277c2bfdae8353c09f1f696e7f00462}{ICER}}[1]\ |=\ (1\ <<\ (irq\ \%\ 32));}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00404}00404\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00405}00405\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 3.\ Clear\ the\ Pending\ interrupt.}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00406}00406\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga7029bc337ba529f1ed60ecec9003ae43}{gpio\_irq\_clear}}(pin);}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00407}00407\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00408}00408\ \}}
\DoxyCodeLine{\Hypertarget{_s_t_m32_f4xx___d_r_i_v_e_r_s_2_src_2stm32f407xx__gpio_8c_source_l00409}00409\ }

\end{DoxyCode}
