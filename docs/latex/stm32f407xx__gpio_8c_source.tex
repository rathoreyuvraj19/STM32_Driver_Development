\doxysection{stm32f407xx\+\_\+gpio.\+c}
\hypertarget{stm32f407xx__gpio_8c_source}{}\label{stm32f407xx__gpio_8c_source}\index{Projects/003\_Testing\_stm32f407xx\_drivers/Drivers/src/stm32f407xx\_gpio.c@{Projects/003\_Testing\_stm32f407xx\_drivers/Drivers/src/stm32f407xx\_gpio.c}}
\mbox{\hyperlink{stm32f407xx__gpio_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00038}00038\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{stm32f407xx__gpio_8h}{stm32f407xx\_gpio.h}}"{}}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00045}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga59f07285d055589998e910abf10c9ab1}{00045}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga59f07285d055589998e910abf10c9ab1}{gpio\_pin\_init}}(\mbox{\hyperlink{struct_g_p_i_ox___handle__t}{GPIOx\_Handle\_t}}\ *GPIOx\_Handle)\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00046}00046\ \ \ \ \ uint8\_t\ gpio\_pin\_number\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_abec5d159383522318eeaf3483fe0d59f}{GPIO\_PIN\_NUMBER}};}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00047}00047\ \ \ \ \ uint8\_t\ gpio\_mode\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_a2d2975ab95a428fccf3285a24c4fd8e2}{GPIO\_MODE}};}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00048}00048\ \ \ \ \ uint8\_t\ gpio\_speed\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_a1c233fdedf6811ed531077825b58f35d}{GPIO\_SPEED}};}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00049}00049\ \ \ \ \ uint8\_t\ gpio\_output\_type\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_ab2e10b90fc7e80cc4a14c6cb80e08ee0}{GPIO\_OP\_TYPE}};}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00050}00050\ \ \ \ \ uint8\_t\ gpio\_pu\_pd\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_addfcf63ac9c75696ad9ff04afe7c45ba}{GPIO\_PU\_PD}};}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00051}00051\ \ \ \ \ uint8\_t\ gpio\_alt\_func\ =\ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_aeb936ee4e02972546dff148d2ce5e084}{GPIO\_CONFIG}}.\mbox{\hyperlink{struct_g_p_i_ox___config__t_a3526e2226cbdccf1493e2ab80ae140b3}{GPIO\_ALT\_FUNC}};}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00052}00052\ \ \ \ \ \textcolor{comment}{/*1.\ Enable\ the\ respective\ GPIO\ peripheral\ through\ RCC\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00053}00053\ \ \ \ \ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_gac485358099728ddae050db37924dd6b7}{GPIOA}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00054}00054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_ga17c0eb1a7e7645a5d63d8b7a41fbb19c}{GPIOA\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00055}00055\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_ga68b66ac73be4c836db878a42e1fea3cd}{GPIOB}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00056}00056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_ga1bc2b8b73bb42c4d2cd758a732fbe871}{GPIOB\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00057}00057\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_ga2dca03332d620196ba943bc2346eaa08}{GPIOC}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00058}00058\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_gab9e994b2e5e4ada47764117634c64728}{GPIOC\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00059}00059\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_ga7580b1a929ea9df59725ba9c18eba6ac}{GPIOD}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00060}00060\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_gac08ecd1bbe57ab59746d6da5b972f493}{GPIOD\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00061}00061\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_gae04bdb5e8acc47cab1d0532e6b0d0763}{GPIOE}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00062}00062\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_gaa93bc85ce9310ae89c709ad615d9bb18}{GPIOE\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00063}00063\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_ga43c3022dede7c9db7a58d3c3409dbc8d}{GPIOF}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00064}00064\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_ga1a46c65e3a2959ce65c503bc735d45ea}{GPIOF\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00065}00065\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_ga02a2a23a32f9b02166a8c64012842414}{GPIOG}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00066}00066\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_ga84b14038fe3d35ca857056c98f796c64}{GPIOG\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00067}00067\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_gadeacbb43ae86c879945afe98c679b285}{GPIOH}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00068}00068\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_ga2be7b357e112e2036141678aa6bc3506}{GPIOH\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00069}00069\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_gad15f13545ecdbbabfccf43d5997e5ade}{GPIOI}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00070}00070\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___p_c_l_k___e_n___d_i___m_a_c_r_o_s_gae7a11cdb49af5cb6c9fa08a57d474eba}{GPIOI\_PCLK\_EN}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00071}00071\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00072}00072\ \ \ \ \ \textcolor{comment}{/*2.Set\ the\ pin\ mode\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00073}00073\ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a7131c3ab513a84fc69270888ddbe561d}{MODER}}\ \&=\ \string~(0x03\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Clear\ the\ bits\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00074}00074\ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a7131c3ab513a84fc69270888ddbe561d}{MODER}}\ |=\ (gpio\_mode\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Set\ the\ desire\ bits\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00076}00076\ \ \ \ \ \textcolor{comment}{/*\ 3.\ Set\ the\ GPIO\ Speed.\ @note:\ speed\ is\ applicable\ only\ for\ output\ and\ alt-\/function\ mode\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00077}00077\ \ \ \ \ \textcolor{keywordflow}{if}\ (gpio\_mode\ ==\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_gaca6eb0cd4dbe7402497829badacfa6df}{GPIO\_MODE\_OUTPUT}}\ ||\ gpio\_mode\ ==\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_gaf97227968696e5e26432760060e61e48}{GPIO\_MODE\_ALT\_FUNC}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00078}00078\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a3b356447d7a412130d1bc5b33cb4b7a0}{OSPEEDR}}\ \&=\ \string~(0x03\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Clear\ the\ bits\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00079}00079\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a3b356447d7a412130d1bc5b33cb4b7a0}{OSPEEDR}}\ |=\ (gpio\_speed\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Set\ the\ desire\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00080}00080\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00081}00081\ \ \ \ \ \textcolor{comment}{/*\ 4.\ Set\ the\ output\ type\ (Push\_pull/Open\_Drain).\ @note\ This\ part\ is\ only\ applicable\ when\ mode\ is\ output\ or\ alternate\ Function\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00082}00082\ \ \ \ \ \textcolor{keywordflow}{if}\ (gpio\_mode\ ==\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_gaca6eb0cd4dbe7402497829badacfa6df}{GPIO\_MODE\_OUTPUT}}\ ||\ gpio\_mode\ ==\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_gaf97227968696e5e26432760060e61e48}{GPIO\_MODE\_ALT\_FUNC}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00083}00083\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a487e307dd27a1a694f8a52f1a2df6ce6}{OTYPER}}\ \&=\ \string~(0x1\ <<\ gpio\_pin\_number);\ \textcolor{comment}{/*\ Clear\ the\ bits\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00084}00084\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a487e307dd27a1a694f8a52f1a2df6ce6}{OTYPER}}\ |=\ (gpio\_output\_type\ <<\ gpio\_pin\_number);\ \textcolor{comment}{/*\ Set\ the\ desire\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00085}00085\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00087}00087\ \ \ \ \ \textcolor{comment}{/*\ 5.\ Set\ the\ pullup\ or\ pulldown\ config.\ @note\ this\ config\ is\ only\ applicable\ when\ mode\ is\ output\ or\ alternate\ function\ or\ input\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00088}00088\ \ \ \ \ \textcolor{keywordflow}{if}\ (gpio\_mode\ !=\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_ga7a04f9ab65ad572ad20791a35009220c}{GPIO\_MODE\_ANALOG}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00089}00089\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a9e83c5fefbd8c0caff3dc3dccd4cfa6f}{PUPDR}}\ \&=\ \string~(0x03\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Clear\ the\ bits\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00090}00090\ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a9e83c5fefbd8c0caff3dc3dccd4cfa6f}{PUPDR}}\ |=\ (gpio\_pu\_pd\ <<\ (2\ *\ gpio\_pin\_number));\ \textcolor{comment}{/*\ Set\ the\ desire\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00091}00091\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00093}00093\ \ \ \ \ \textcolor{comment}{/*\ \ 6.\ Setting\ ALT\ FUNCTION\ config.\ @note\ this\ config\ is\ only\ applicable\ when\ mode\ is\ ALT\ FUNC\ MODE\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00094}00094\ \ \ \ \ \textcolor{keywordflow}{if}\ (gpio\_mode\ ==\ \mbox{\hyperlink{group___g_p_i_o___m_o_d_e_s_gaf97227968696e5e26432760060e61e48}{GPIO\_MODE\_ALT\_FUNC}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00095}00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (gpio\_pin\_number\ <=\ 7)\ \{\ \textcolor{comment}{/*We\ have\ to\ configure\ AFRL\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a126fbbca62fb9da89d8784bbdca0d6d1}{AFRL}}\ \&=\ \string~(0xF\ <<\ (4\ *\ (gpio\_pin\_number\ \%\ 8)));}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00097}00097\ \ \ \ \ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a126fbbca62fb9da89d8784bbdca0d6d1}{AFRL}}\ |=\ (gpio\_alt\_func\ <<\ (4\ *\ (gpio\_pin\_number\ \%\ 8)));}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00098}00098\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{/*We\ have\ to\ configure\ AFRH\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a7bb86e1aa7bfba5dea71646b1c2fd754}{AFRH}}\ \&=\ \string~(0xF\ <<\ (4\ *\ (gpio\_pin\_number\ \%\ 8)));}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ GPIOx\_Handle-\/>\mbox{\hyperlink{struct_g_p_i_ox___handle__t_af66476d0b69ef00a95863c8d55a33208}{pGPIOx}}-\/>\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t_a7bb86e1aa7bfba5dea71646b1c2fd754}{AFRH}}\ |=\ (gpio\_alt\_func\ <<\ (4\ *\ (gpio\_pin\_number\ \%\ 8)));}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00101}00101\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00102}00102\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00104}00104\ \}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00112}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga347db04adc58e4104a1b0600a2238395}{00112}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga347db04adc58e4104a1b0600a2238395}{gpio\_port\_deinit}}(\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t}{GPIOx\_RegDef\_t}}\ *pGPIOx)\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00113}00113\ \ \ \ \ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_gac485358099728ddae050db37924dd6b7}{GPIOA}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00114}00114\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 0);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00115}00115\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 0);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00117}00117\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_ga8bc666ed7242f6faa9bffc65a062fe55}{GPIOA\_RESET}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00118}00118\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_ga68b66ac73be4c836db878a42e1fea3cd}{GPIOB}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00119}00119\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 1);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00120}00120\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 1);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00121}00121\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00122}00122\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_gaf0048d94161bb7fe5d170c2406bc0fd7}{GPIOB\_RESET}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00123}00123\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_ga2dca03332d620196ba943bc2346eaa08}{GPIOC}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00124}00124\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 2);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00125}00125\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 2);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00126}00126\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00127}00127\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_gaa4542df78f0d1560397d909f611c6ce7}{GPIOC\_RESET}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00128}00128\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_ga7580b1a929ea9df59725ba9c18eba6ac}{GPIOD}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00129}00129\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 3);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00130}00130\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 3);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00131}00131\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00132}00132\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_ga92694d8c9d9c00155654721623708f35}{GPIOD\_RESET}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00133}00133\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_gae04bdb5e8acc47cab1d0532e6b0d0763}{GPIOE}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00134}00134\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 4);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00135}00135\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 4);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00136}00136\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00137}00137\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_ga497349d3ec829b56e5a26953e61c1e8a}{GPIOE\_RESET}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00138}00138\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_ga43c3022dede7c9db7a58d3c3409dbc8d}{GPIOF}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00139}00139\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 5);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00140}00140\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 5);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00141}00141\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00142}00142\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_gafe0496ab47e7164336adefca4797ac3e}{GPIOF\_RESET}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00143}00143\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_ga02a2a23a32f9b02166a8c64012842414}{GPIOG}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00144}00144\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 6);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00145}00145\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 6);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00146}00146\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00147}00147\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_gad69709b4469070fa4be32b4b137c4373}{GPIOG\_RESET}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00148}00148\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_gadeacbb43ae86c879945afe98c679b285}{GPIOH}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00149}00149\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 7);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00150}00150\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 7);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00151}00151\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00152}00152\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_ga30f67db20df721ed84d527133fe1de4f}{GPIOH\_RESET}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00153}00153\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pGPIOx\ ==\ \mbox{\hyperlink{group___g_p_i_ox___r_e_g___d_e_f_gad15f13545ecdbbabfccf43d5997e5ade}{GPIOI}})\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00154}00154\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ |=\ (1\ <<\ 8);\ \ /*\ Assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00155}00155\ \textcolor{comment}{//\ \ \ \ \ \ RCC-\/>AHB1RSTR\ \&=\ \string~(1\ <<\ 8);\ /*\ De-\/assert\ the\ reset\ bit\ */}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00156}00156\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instead\ of\ this\ we\ will\ use\ macros.}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00157}00157\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___a_h_b1___r_e_s_e_t___m_a_c_r_o_s_ga044a47439c7e8f852439c76250a57901}{GPIOI\_RESET}}();}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00158}00158\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00159}00159\ \}}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00168}\mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga7a2f606b1dfb968762d2ee9dcf59fc5f}{00168}}\ uint8\_t\ \mbox{\hyperlink{group___g_p_i_o___driver___a_p_is_ga7a2f606b1dfb968762d2ee9dcf59fc5f}{gpio\_read\_pin}}(\mbox{\hyperlink{struct_g_p_i_ox___reg_def__t}{GPIOx\_RegDef\_t}}\ *pGPIOx,\ uint8\_t\ pin)\ \{}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00170}00170\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{stm32f407xx__gpio_8c_source_l00171}00171\ \}}

\end{DoxyCode}
